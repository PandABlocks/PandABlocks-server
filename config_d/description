# Descriptions of blocks and fields.

TTLIN       TTL input
    TERM            Select TTL input termination
    VAL             TTL input value

TTLOUT      TTL output
    VAL             TTL output value

LVDSIN      LVDS input
    VAL             LVDS input value

LVDSOUT     LVDS output
    VAL             LVDS output value

LUT         Logic lookup table
    FUNC            Logic function for table computation
    INPA            Input A
    INPB            Input B
    INPC            Input C
    INPD            Input D
    INPE            Input E
    VAL             Lookup table output

SRGATE      Set reset gate
    SET_EDGE        Output set edge (0 = rising edge, 1 = falling edge)
    RST_EDGE        Output reset edge (0 = rising edge, 1 = falling edge)
    FORCE_SET       Set output to 1
    FORCE_RST       Reset output to 0
    SET             A falling/rising edge sets the output to 1
    RST             A falling/rising edge resets the output to 0
    VAL             Output value

DIV         Pulse divider
    DIVISOR         Divisor value
    FIRST_PULSE     Where to send first pulse
    FORCE_RST       Reset internal counter state machine
    INP             Input pulse train
    RST             On rising edge, reset counter state machine
    OUTD            Divided pulse output
    OUTN            Non-divided pulse output
    COUNT           Internal counter value

PULSE       One-shot pulse delay and stretch
    DELAY           Output pulse delay (0 for no delay)
    WIDTH           Output pulse width (0 for input pulse width)
    FORCE_RST       Reset QUEUE and ERR outputs
    INP             Input pulse train
    RST             On rising edge, reset QUEUE and ERR outputs
    OUT             Output pulse train
    PERR            Error output if a pulse could not be generated
    ERR_OVERFLOW    Missed pulse was due to overflow of internal queue
    ERR_PERIOD      Producing a pulse would cause it to overlap with previous
    QUEUE           Length of the delay queue
    MISSED_CNT      Number of pulses not produced because of an ERR condition

SEQ         Sequencer
    PRESCALE        Prescalar for system clock
    SOFT_GATE       soft gate pulse
    TABLE_CYCLE     Number of times the table will cycle
    GATE            Rising edge starts sequencer, falling edge stops sequencer
    INPA            Trigger input A
    INPB            Trigger input B
    INPC            Trigger input C
    INPD            Trigger input D
    OUTA            Output A
    OUTB            Output B
    OUTC            Output C
    OUTD            Output D
    OUTE            Output E
    OUTF            Output F
    ACTIVE          Sequencer active flag
    CUR_FRAME       Sequencer current frame number
    CUR_FCYCLE      Current number of times the frame has cycled
    CUR_TCYCLE      Current number of times the table has cycled
    TABLE_STROBES   Number of times data has been written to the table
    TABLE           Sequencer configuration

INENC       Input encoder
    PROTOCOL        Type of absolute/incremental protocol
    CLKRATE         Clock rate
    FRAMERATE       Frame rate
    BITS            Number of bits
    SETP            Set point
    RST_ON_Z        Zero position on Z rising edge
    EXTENSION       Bits higher than 32-bits
    A               Quadrature A if in incremental mode
    B               Quadrature B if in incremental mode
    Z               Z index channel if in incremental mode
    CONN            Signal detected
    POSN            Current position

QDEC        Quadrature decoder
    RST_ON_Z        Zero position on Z rising edge
    SETP            Set point
    A               Quadrature A
    B               Quadrature B
    Z               Z index channel
    POSN            Output position

OUTENC      Output encoder
    PROTOCOL        Type of absolute/incremental protocol
    BITS            Number of bits
    QPRESCALAR      Quadrature prescalar
    FORCE_QSTATE    Force quadrature state
    A               Input for A (only straight through)
    B               Input for B (only straight through)
    Z               Input for Z (only straight through)
    POSN            Input for position (all other protocols)
    CONN            Input for connected
    QSTATE          Quadrature state

POSENC      Quadrature and step/direction encoder
    POSN            Output position
    QPRESCALAR      Prescalar for quadrature output
    MODE            Quadrature or step/direction
    FORCE_QSTATE    Force the quadrature state to catch up
    A               Quadrature A/Step output
    B               Quadrature B/Direction output
    QSTATE          State of quadrature output

ADDER       Position adder
    MASK            Mask of inputs to use
    OUTSCALE        Scale output
    RESULT          Output

COUNTER     Up/Down pulse counter
    DIR             Up/Down direction (0 = Up, 1 = Down)
    START           Counter start value
    STEP            Up/Down step value
    ENABLE          Rising edge enables counter. Falling edge disables
    TRIGGER         Rising edge ticks the counter up/down by user-defined value
    CARRY           Internal counter overflow status
    COUNT           Output

PGEN        Position generator
    SAMPLES         Number of samples
    CYCLES          Number of cycles
    ENABLE          Enable output
    TRIGGER         Trigger a sample to be produced
    POSN            Current sample
    TABLE           Table of positions to be output

PCOMP       Position compare
    START           Pulse start position value
    STEP            Pulse step value
    WIDTH           Pulse width value
    PNUM            Pulse number to be generated
    RELATIVE        Relative position compare enable
    DIR             Direction of crossing
    DELTAP          DeltaP for start position
    LUT_ENABLE      Relative position compare LUT mode
    ENABLE          Rising edge enables block. Falling edge disables
    POSN            Position data from position-data bus
    ACT             Active output is high while block is in operation
    PULSE           Output pulse
    FLTR_DIR        If deltaT > 0 this is the current direction
    ERROR           True if pulse is initiated after at least two compare ponts
    TABLE           Table of points to use instead of START/STEP/WIDTH

ADC         Analogue inputs
    TRIGGER         When to trigger for data?
    RST             Reset accumulator?
    DATA            Current value

PCAP        Position capture control
    ENABLE          Data capture enable
    FRAME           Data capture frame
    CAPTURE         Data capture event
    MISSED_CAPTURES Have any captures been lost?
    ERR_STATUS      Was last capture successful?
    IRQ             IRQ pulse output
    ACTIVE          Data capture in progress

    CAPTURE_TS      Timestamp of captured data
    FRAME_LENGTH    Length of captured frame
    CAPTURE_OFFSET  Offset of capture into capture frame
    ADC_COUNT       Number of ADC samples in captured frame

    BITS0           Quadrant 0 of bit_bus
    BITS1           Quadrant 1 of bit_bus
    BITS2           Quadrant 2 of bit_bus
    BITS3           Quadrant 3 of bit_bus

BITS        Soft inputs and constant bits
    A_SET           The value that output A should take
    B_SET           The value that output B should take
    C_SET           The value that output C should take
    D_SET           The value that output D should take
    A               The value of A_SET on the bit bus
    B               The value of B_SET on the bit bus
    C               The value of C_SET on the bit bus
    D               The value of D_SET on the bit bus
    ZERO            The constant value 0 on the bit bus
    ONE             The constant value 1 on the bit bus

CLOCKS      Configurable clocks
    A_PERIOD        Period of clock A output
    B_PERIOD        Period of clock B output
    C_PERIOD        Period of clock C output
    D_PERIOD        Period of clock D output
    A               Clock A output
    B               Clock B output
    C               Clock C output
    D               Clock D output

POSITIONS   Constants
    ZERO            Constant zero position


SLOW        Slow control FPGA
    FPGA_VERSION    Slow Controller FPGA Version
    ENC_CONN        Encoder Connection Status
